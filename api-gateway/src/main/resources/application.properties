# 1. Puerto del Gateway
# Este es el único puerto al que el exterior accederá.
server.port=8080

# 2. Configuración de Keycloak (solo se necesita una vez)
# El Gateway validará el token ANTES de pasarlo.
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8081/realms/tpi-backend

# 3. RUTAS DEL GATEWAY
# Aquí le decimos qué URL va a qué microservicio.
spring.cloud.gateway.routes[0].id=microservicio-cliente
spring.cloud.gateway.routes[0].uri=http://localhost:8085
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/cliente/**

spring.cloud.gateway.routes[1].id=microservicio-seguimiento
spring.cloud.gateway.routes[1].uri=http://localhost:8083
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/seguimiento/**

spring.cloud.gateway.routes[2].id=microservicio-flota
spring.cloud.gateway.routes[2].uri=http://localhost:8084
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/flota/**

# # --- ¡AQUÍ ESTÁ LA NUEVA RUTA QUE DEBES AÑADIR! ---
# # Ruta para el controlador de Google Maps (GeoController)
# spring.cloud.gateway.routes[3].id=microservicio-seguimiento-distancia
# spring.cloud.gateway.routes[3].uri=http://localhost:8083
# spring.cloud.gateway.routes[3].predicates[0]=Path=/api/distancia/**


# 4. Configuración de Spring Cloud
# Deshabilita el verificador de compatibilidad de versiones
spring.cloud.compatibility-verifier.enabled=false